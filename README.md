# Six-axis-aircraft
codes for a six Six-axis-aircraft 

- 一键起飞和伪定高
## 一键起降
思路:</br>
&nbsp&nbsp设置变量，由遥控器按键传来的不同数值大致分为正常模式、起飞、定高悬停、降落四个模式，当飞机处
于除正常模式外的三个模式的时候，禁止摇杆传输数据， 其后分情况进行对油门的处理，利用 z 轴方向的加
速度来自动控制油门。</br>
起飞模式下， 检测竖直方向加速度是否大于一定值，大于则减油门，小于则加油门。
降落模式下，同样检测数值方向加速度，大于一定值则减油门，小于则加油门。

+ 修改的文件：
- FTC_RC.h 增加控制是否接收摇杆传输数据的变量；
- FTC_FlyControl.cpp 增加一键起降/悬停定高的代码；
- FTC_DT.cpp 增加 if 语句，判断是否接收摇杆传输过来的值；
</br>
遥控器的 FTC_RC.cpp 将原本的两段式按键（1100-1500）改为四段式（1100-1500-1900-2300） 分别对应正
常模式、起飞、 悬停、降落

## 定高
思路:</br>
&nbsp&nbsp定高模式下，由于飞行器静止时竖直方向加速度约为 4000，由此为依据，判断当前竖直方向加速度与
4000 的差值，大于 4120 则减油门，小于 4050 则加油门，加速度在这个区间内则飞机竖直方向合力大约为 0。

+ 修改的文件：
- FTC_RC.h 增加控制是否接收摇杆传输数据的变量；
- FTC_FlyControl.cpp 增加一键起降/悬停定高的代码；
- FTC_DT.cpp 增加 if 语句，判断是否接收摇杆传输过来的值；
</br>
遥控器的 FTC_RC.cpp 将原本的两段式按键（1100-1500）改为四段式（1100-1500-1900-2300） 分别对应正
常模式、起飞、 悬停、降落
